<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title></title>
        <style>
            *{
                margin: 0;
                padding: 0;
            }
            #stage{
                width: 1000px;
                height: 300px;
                background: gray;
                position: relative;
                margin: 50px auto;
                -webkit-perspective:800px;
                -webkit-perspective-origin:50% -10%;
            }
            #container{
                width: 150px;
                height: 100px;
                background: red;
                position: absolute;
                top: 100px;
                left: 50%;
                margin-left: -75px;
                -webkit-transform-style:preserve-3d;
                -webkit-transition:transform 2s ease;
            }
            img{
                width: 150px;
                height: 100px;
                position: absolute;
                top: 0;
                left: 0;
                -webkit-transition:transform 2s ease;
            }


        </style>
    </head>
    <body>
        <div id="stage">
            <div id="container">

            </div>
        </div>
        <script>
            /*1111111111111111111111111111111*/
//            var oContainer=document.getElementById('container');
//            var html="";
//            for(var i=0;i<9;i++){
//                html+="<img src="+(i+1)+".jpg/>";
//            }
//            oContainer.innerHTML=html;
//
//            var aImg=document.getElementsByTagName('img');
            /*第一种方法*/
//            var index=0;
//            setInterval(function(){
//                aImg[8-index].style.WebkitTransform="rotateY("+(index+1)*40+"deg) translateZ(220px)";
//                index++;
//            },100);
            /*第二种方法*/
//                for(var i=0;i<9;i++){
//                    (function(index){
//                        setTimeout(function(){
//                            aImg[8-index].style.WebkitTransform="rotateY("+(index+1)*40+"deg) translateZ(220px)";
//                        },100*(index+1))
//                    })(i);
//                }

            /*22222222222222222222222222222222222222222*/
            var oContainer=document.getElementById('container');
            var aImg = oContainer.getElementsByTagName('img');
            var a=0;
            for(var i=0;i<9;i++){
                var oImg=new Image();
                oImg.onload=function(){
                    a++;
                    if(a==9){
                        for(var i=0;i<9;i++){
                            (function(index){
                                setTimeout(function(){
                                    aImg[8-index].style.WebkitTransform="rotateY("+(index+1)*40+"deg) translateZ(220px)";
                                },100*(index+1))
                            })(i);
                        }
                    }
                };
                oImg.src=(i+1)+".jpg";
                oContainer.appendChild(oImg);
            }

            var index=0;
            oContainer.onclick=function(){
                index++;
                oContainer.style.WebkitTransform="rotateY("+(-index*40)+"deg)";/*顺时针*/
            }
        </script>
    </body>
</html>